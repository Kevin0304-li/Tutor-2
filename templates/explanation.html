{% extends "base.html" %}

{% block title %}
    {% if language == 'english' %}
        AI Explanations
    {% else %}
        AI解释
    {% endif %}
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-3">
        <!-- Topics Sidebar -->
        <div class="card mb-4 sticky-top" style="top: 2rem; z-index: 100;">
            <div class="card-header bg-primary text-white d-flex align-items-center">
                <i class="fas fa-book-open me-2"></i>
                {% if language == 'english' %}
                    Learning Path
                {% else %}
                    学习路径
                {% endif %}
            </div>
            <div class="list-group list-group-flush">
                <!-- Introduction to AI -->
                <div class="topic-progress">
                    <a href="#" class="list-group-item list-group-item-action active" id="topic-intro">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-robot me-2"></i>
                                {% if language == 'english' %}
                                    What is AI?
                                {% else %}
                                    什么是人工智能？
                                {% endif %}
                            </div>
                            <span class="badge bg-primary rounded-pill">0%</span>
                        </div>
                        <div class="progress-indicator mt-2">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                    </a>
                </div>

                <!-- AI History -->
                <div class="topic-progress">
                    <a href="#" class="list-group-item list-group-item-action" id="topic-history">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-history me-2"></i>
                                {% if language == 'english' %}
                                    History of AI
                                {% else %}
                                    人工智能的历史
                                {% endif %}
                            </div>
                            <span class="badge bg-primary rounded-pill">0%</span>
                        </div>
                        <div class="progress-indicator mt-2">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                    </a>
                </div>

                <!-- AI Applications -->
                <div class="topic-progress">
                    <a href="#" class="list-group-item list-group-item-action" id="topic-applications">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-cogs me-2"></i>
                                {% if language == 'english' %}
                                    AI in Daily Life
                                {% else %}
                                    日常生活中的人工智能
                                {% endif %}
                            </div>
                            <span class="badge bg-primary rounded-pill">0%</span>
                        </div>
                        <div class="progress-indicator mt-2">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                    </a>
                </div>

                <!-- AI Categories -->
                <div class="topic-progress">
                    <a href="#" class="list-group-item list-group-item-action" id="topic-categories">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-sitemap me-2"></i>
                                {% if language == 'english' %}
                                    AI Categories
                                {% else %}
                                    人工智能分类
                                {% endif %}
                            </div>
                            <span class="badge bg-primary rounded-pill">0%</span>
                        </div>
                        <div class="progress-indicator mt-2">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                    </a>
                </div>
                
                <!-- AI Creativity -->
                <div class="topic-progress">
                    <a href="#" class="list-group-item list-group-item-action" id="topic-creativity">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-lightbulb me-2"></i>
                                {% if language == 'english' %}
                                    AI & Creativity
                                {% else %}
                                    人工智能与创造力
                                {% endif %}
                            </div>
                            <span class="badge bg-primary rounded-pill">0%</span>
                        </div>
                        <div class="progress-indicator mt-2">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                    </a>
                </div>
                
                <!-- Final Exam -->
                <div class="topic-progress">
                    <a href="#" class="list-group-item list-group-item-action" id="topic-exam">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-graduation-cap me-2"></i>
                                {% if language == 'english' %}
                                    Final Exam
                                {% else %}
                                    期末考试
                                {% endif %}
                            </div>
                            <span class="badge bg-primary rounded-pill">0%</span>
                        </div>
                        <div class="progress-indicator mt-2">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-9">
        <!-- Main Content Area -->
        <div class="card mb-4">
            <div class="card-header d-flex justify-content-between align-items-center">
                <div>
                    <h2 class="mb-0" id="topic-title">
                        {% if language == 'english' %}
                            What is Artificial Intelligence?
                        {% else %}
                            什么是人工智能？
                        {% endif %}
                    </h2>
                    <div class="mt-2">
                        <span class="difficulty-badge difficulty-beginner">
                            <i class="fas fa-signal-1"></i>
                            {% if language == 'english' %}Beginner{% else %}初级{% endif %}
                        </span>
                        <span class="ms-2 text-muted">
                            <i class="far fa-clock me-1"></i>
                            {% if language == 'english' %}10 min{% else %}10分钟{% endif %}
                        </span>
                    </div>
                </div>
                <div class="d-flex gap-2">
                    <button class="btn btn-outline-primary btn-sm" id="toggle-explanation-level">
                        <i class="fas fa-layer-group me-1"></i>
                        {% if level == 'simple' %}
                            {% if language == 'english' %}
                                Simple Mode
                            {% else %}
                                简易模式
                            {% endif %}
                        {% else %}
                            {% if language == 'english' %}
                                Normal Mode
                            {% else %}
                                正常模式
                            {% endif %}
                        {% endif %}
                    </button>
                    <button class="btn btn-primary btn-sm" id="start-quiz">
                        <i class="fas fa-question-circle me-1"></i>
                        {% if language == 'english' %}Take Quiz{% else %}开始测验{% endif %}
                    </button>
                </div>
            </div>
            
            <div class="card-body">
                <div id="explanation-content">
                    <!-- What is AI Content -->
                    <div id="content-intro" class="topic-content active">
                        {% if language == 'english' %}
                            <div class="topic-card">
                                <h3>Understanding Artificial Intelligence</h3>
                                <p class="lead">Artificial Intelligence (AI) is technology that helps computers think and learn like humans!</p>
                                
                                <div class="concept-image text-center mb-4">
                                    <img src="/static/images/ai-concept.png" alt="AI Concept" class="img-fluid rounded" style="max-width: 400px;">
                                </div>
                                
                                <div class="alert alert-info p-4 mb-4">
                                    <h4><i class="fas fa-lightbulb me-2"></i>What AI Really Does</h4>
                                    <p>Imagine you have a big box of colorful LEGO blocks. Some are red, some are blue, and some are yellow.</p>
                                    <p>AI is like a friend who looks at all your LEGO blocks and notices things like:</p>
                                    <ul>
                                        <li>"Oh! All the red blocks are square!"</li>
                                        <li>"The blue blocks are always next to yellow blocks!"</li>
                                    </ul>
                                    <p>AI doesn't really "think" or "learn" like people do. Instead, it's very good at finding patterns in lots of information. When we say AI "learns," it really means it finds these patterns and uses them to make guesses about new things it sees.</p>
                                    <p>So when your tablet suggests a game you might like, it's because the AI found a pattern: "Kids who like game A usually also like game B!"</p>
                                </div>
                                
                                <h4>Key Ideas About AI</h4>
                                <ul class="concept-list">
                                    <li>
                                        <i class="fas fa-brain"></i>
                                        <div>
                                            <strong>Smart Computers</strong>
                                            <p class="mb-0">AI systems can understand, learn, and solve problems like humans do.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fas fa-robot"></i>
                                        <div>
                                            <strong>Different from Regular Programs</strong>
                                            <p class="mb-0">Unlike normal computer programs that just follow rules, AI can learn and improve over time!</p>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fas fa-magic"></i>
                                        <div>
                                            <strong>Helpful Technology</strong>
                                            <p class="mb-0">AI helps us with many tasks, from recommending movies to driving cars.</p>
                                        </div>
                                    </li>
                                </ul>
                                
                                <div class="mt-4">
                                    <h4><i class="fas fa-puzzle-piece me-2"></i>How AI Actually Works</h4>
                                    <p>Behind the scenes, AI systems use several important techniques to function:</p>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>1. Machine Learning</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>The most common type of AI today. Instead of being programmed with specific rules, the computer is trained with lots of examples.</p>
                                            <p class="mb-0"><strong>Example:</strong> To recognize cats in photos, an AI might look at thousands of cat pictures until it learns what makes a cat look like a cat!</p>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>2. Neural Networks</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>Special computer systems designed to work a bit like a human brain, with interconnected "neurons" that process information in layers.</p>
                                            <p class="mb-0">Each layer detects different features - from simple edges and colors to complex objects and concepts.</p>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>3. Deep Learning</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>A more advanced form of machine learning using many layers of neural networks, allowing AI to handle very complex tasks.</p>
                                            <p class="mb-0"><strong>Applications:</strong> Speech recognition, language translation, and self-driving cars all use deep learning.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% else %}
                            <div class="topic-card">
                                <h3>理解人工智能</h3>
                                <p class="lead">人工智能（AI）是帮助计算机像人类一样思考和学习的技术！</p>
                                
                                <div class="concept-image text-center mb-4">
                                    <img src="/static/images/ai-concept.png" alt="AI概念" class="img-fluid rounded" style="max-width: 400px;">
                                </div>
                                
                                <div class="alert alert-info p-4 mb-4">
                                    <h4><i class="fas fa-lightbulb me-2"></i>人工智能实际上是做什么的</h4>
                                    <p>想象一下，你有一大盒彩色的乐高积木。有些是红色的，有些是蓝色的，有些是黄色的。</p>
                                    <p>人工智能就像一个朋友，他看着你所有的乐高积木并注意到一些事情，比如：</p>
                                    <ul>
                                        <li>"哦！所有的红色积木都是方形的！"</li>
                                        <li>"蓝色积木总是在黄色积木旁边！"</li>
                                    </ul>
                                    <p>人工智能并不是真的像人一样"思考"或"学习"。相反，它非常擅长在大量信息中找到规律。当我们说AI"学习"时，实际上是指它找到这些规律，并用它们来预测它看到的新事物。</p>
                                    <p>所以当你的平板电脑推荐你可能喜欢的游戏时，这是因为AI发现了一个规律："喜欢游戏A的孩子通常也喜欢游戏B！"</p>
                                </div>
                                
                                <h4>关于AI的主要概念</h4>
                                <ul class="concept-list">
                                    <li>
                                        <i class="fas fa-brain"></i>
                                        <div>
                                            <strong>智能计算机</strong>
                                            <p class="mb-0">AI系统可以像人类一样理解、学习和解决问题。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fas fa-robot"></i>
                                        <div>
                                            <strong>与普通程序不同</strong>
                                            <p class="mb-0">与只是遵循固定规则的普通计算机程序不同，AI能够随着时间自我学习和进步！</p>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fas fa-magic"></i>
                                        <div>
                                            <strong>有用的技术</strong>
                                            <p class="mb-0">AI帮助我们完成许多任务，从推荐电影到驾驶汽车。</p>
                                        </div>
                                    </li>
                                </ul>
                                
                                <div class="mt-4">
                                    <h4><i class="fas fa-puzzle-piece me-2"></i>人工智能实际如何工作</h4>
                                    <p>在幕后，人工智能系统使用几种重要技术来运作：</p>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>1. 机器学习</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>当今最常见的AI类型。计算机不是按照特定规则编程，而是通过大量示例进行训练。</p>
                                            <p class="mb-0"><strong>示例：</strong>为了识别照片中的猫，AI可能会查看数千张猫的图片，直到它学会猫的特征！</p>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>2. 神经网络</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>一种特殊的计算机系统，设计为类似人脑工作，具有相互连接的"神经元"，分层处理信息。</p>
                                            <p class="mb-0">每一层检测不同的特征 - 从简单的边缘和颜色到复杂的物体和概念。</p>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>3. 深度学习</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>使用多层神经网络的更高级机器学习形式，使AI能够处理非常复杂的任务。</p>
                                            <p class="mb-0"><strong>应用：</strong>语音识别、语言翻译和自动驾驶汽车都使用深度学习技术。</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    </div>

                    <!-- AI History Content -->
                    <div id="content-history" class="topic-content d-none">
                        {% if language == 'english' %}
                            <div class="topic-card">
                                <h3>The Journey of Artificial Intelligence</h3>
                                <p class="lead">From science fiction to reality: How AI has evolved over time!</p>
                                
                                <div class="timeline mb-4">
                                    <div class="timeline-item">
                                        <div class="timeline-marker">1950s</div>
                                        <div class="timeline-content">
                                            <h5>The Birth of AI</h5>
                                            <p>Scientists started thinking about making smart machines. Alan Turing created the famous "Turing Test" to check if computers could think like humans.</p>
                                        </div>
                                    </div>
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-marker">1960s-70s</div>
                                        <div class="timeline-content">
                                            <h5>First AI Programs</h5>
                                            <p>Early computers learned to solve math problems and play simple games like checkers.</p>
                                        </div>
                                    </div>
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-marker">1990s-2000s</div>
                                        <div class="timeline-content">
                                            <h5>AI Gets Stronger</h5>
                                            <p>Computers became powerful enough to beat chess champions and recognize speech!</p>
                                        </div>
                                    </div>
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-marker">Today</div>
                                        <div class="timeline-content">
                                            <h5>AI Everywhere</h5>
                                            <p>AI helps us with daily tasks like navigation, shopping recommendations, and even creating art!</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <h4><i class="fas fa-landmark me-2"></i>Key Historical Milestones</h4>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>The Dartmouth Conference (1956)</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>Often considered the official birth of AI as a field. A group of scientists proposed that "every aspect of learning or any other feature of intelligence can be so precisely described that a machine can be made to simulate it."</p>
                                            <p class="mb-0">This summer workshop coined the term "Artificial Intelligence" and set the foundation for future research.</p>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>Early AI Programs (1950s-1960s)</strong>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>Logic Theorist (1955):</strong> The first AI program, capable of proving mathematical theorems.</li>
                                                <li><strong>ELIZA (1966):</strong> An early chatbot that could mimic human conversation by pattern matching.</li>
                                                <li><strong>SHRDLU (1970):</strong> Program that could understand natural language instructions in a simple block world.</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>The AI Winter Periods</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>AI research has gone through cycles of extreme optimism followed by disappointment and funding cuts:</p>
                                            <ul class="mb-0">
                                                <li><strong>First AI Winter (1974-1980):</strong> Early AI systems couldn't solve complex real-world problems.</li>
                                                <li><strong>Second AI Winter (1987-1993):</strong> Expensive expert systems failed to deliver on their promises.</li>
                                                <li><strong>Revival (2000s-present):</strong> Increased computing power, big data, and new algorithms led to modern AI successes.</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>Recent Breakthroughs</strong>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>IBM Watson (2011):</strong> Beat human champions at Jeopardy, demonstrating advanced natural language processing.</li>
                                                <li><strong>AlphaGo (2016):</strong> Defeated world champion at Go, a game previously thought too complex for computers.</li>
                                                <li><strong>GPT Models (2020s):</strong> Large language models capable of generating human-like text and conversations.</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% else %}
                            <div class="topic-card">
                                <h3>人工智能的发展历程</h3>
                                <p class="lead">从科幻到现实：人工智能是如何发展的！</p>
                                
                                <div class="timeline mb-4">
                                    <div class="timeline-item">
                                        <div class="timeline-marker">1950年代</div>
                                        <div class="timeline-content">
                                            <h5>人工智能的诞生</h5>
                                            <p>科学家们开始思考如何制造具有智能的机器。图灵创造了著名的"图灵测试"，用来评估计算机是否能像人类一样思考。</p>
                                        </div>
                                    </div>
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-marker">1960-70年代</div>
                                        <div class="timeline-content">
                                            <h5>首批AI程序</h5>
                                            <p>早期计算机开始能够解决数学问题并玩简单的游戏，如跳棋。</p>
                                        </div>
                                    </div>
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-marker">1990-2000年代</div>
                                        <div class="timeline-content">
                                            <h5>AI变得更强大</h5>
                                            <p>计算机的能力显著提升，不仅能够击败国际象棋冠军，还能识别人类语音！</p>
                                        </div>
                                    </div>
                                    
                                    <div class="timeline-item">
                                        <div class="timeline-marker">今天</div>
                                        <div class="timeline-content">
                                            <h5>AI无处不在</h5>
                                            <p>AI已融入我们的日常生活，帮助我们导航、推荐购物选择，甚至协助创作艺术作品！</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <h4><i class="fas fa-landmark me-2"></i>关键历史里程碑</h4>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>达特茅斯会议（1956年）</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>通常被认为是人工智能作为一个领域的正式诞生。一群科学家提出"学习的每个方面或智能的任何其他特征都可以被精确描述，以至于可以制造机器来模拟它。"</p>
                                            <p class="mb-0">这次夏季研讨会创造了"人工智能"一词，并为未来的研究奠定了基础。</p>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>早期AI程序（1950-1960年代）</strong>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>逻辑理论家（1955）：</strong>第一个AI程序，能够证明数学定理。</li>
                                                <li><strong>ELIZA（1966）：</strong>一个早期聊天机器人，通过模式匹配模拟人类对话。</li>
                                                <li><strong>SHRDLU（1970）：</strong>能够在简单积木世界中理解自然语言指令的程序。</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>AI寒冬时期</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>人工智能研究经历了极度乐观后接着失望和资金削减的循环：</p>
                                            <ul class="mb-0">
                                                <li><strong>第一次AI寒冬（1974-1980）：</strong>早期AI系统无法解决复杂的现实世界问题。</li>
                                                <li><strong>第二次AI寒冬（1987-1993）：</strong>昂贵的专家系统未能兑现承诺。</li>
                                                <li><strong>复兴（2000年代至今）：</strong>计算能力提升、大数据和新算法导致现代AI成功。</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>近期突破</strong>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>IBM Watson（2011）：</strong>在Jeopardy节目中击败人类冠军，展示了先进的自然语言处理能力。</li>
                                                <li><strong>AlphaGo（2016）：</strong>在围棋比赛中击败世界冠军，这是一款之前被认为对计算机来说太复杂的游戏。</li>
                                                <li><strong>GPT模型（2020年代）：</strong>能够生成类人文本和对话的大型语言模型。</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    </div>

                    <!-- AI Applications Content -->
                    <div id="content-applications" class="topic-content d-none">
                        {% if language == 'english' %}
                            <div class="topic-card">
                                <h3>AI in Our Daily Lives</h3>
                                <p class="lead">Discover how AI is already helping us every day!</p>
                                
                                <div class="applications-grid">
                                    <div class="application-card">
                                        <i class="fas fa-mobile-alt fa-2x mb-3"></i>
                                        <h5>Smartphones</h5>
                                        <ul>
                                            <li>Face recognition to unlock your phone</li>
                                            <li>Voice assistants like Siri and Google Assistant</li>
                                            <li>Smart camera features</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="application-card">
                                        <i class="fas fa-home fa-2x mb-3"></i>
                                        <h5>Smart Homes</h5>
                                        <ul>
                                            <li>Smart speakers that understand your voice</li>
                                            <li>Thermostats that learn your preferences</li>
                                            <li>Security cameras that recognize people</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="application-card">
                                        <i class="fas fa-shopping-cart fa-2x mb-3"></i>
                                        <h5>Shopping</h5>
                                        <ul>
                                            <li>Product recommendations</li>
                                            <li>Price predictions</li>
                                            <li>Customer service chatbots</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="application-card">
                                        <i class="fas fa-car fa-2x mb-3"></i>
                                        <h5>Transportation</h5>
                                        <ul>
                                            <li>Navigation apps that find the best routes</li>
                                            <li>Self-driving cars</li>
                                            <li>Traffic prediction</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <h4><i class="fas fa-microscope me-2"></i>How AI is Changing Industries</h4>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>Healthcare</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>AI is revolutionizing medicine in many ways:</p>
                                            <ul class="mb-0">
                                                <li><strong>Medical Imaging:</strong> AI systems can detect diseases like cancer from X-rays and MRIs, sometimes more accurately than human doctors.</li>
                                                <li><strong>Drug Discovery:</strong> AI drastically speeds up the process of finding new medications by predicting which molecules might work.</li>
                                                <li><strong>Patient Monitoring:</strong> Smart devices track health metrics and alert doctors to potential problems before they become serious.</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>Education</strong>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>Personalized Learning:</strong> AI tutoring systems adapt to each student's strengths and weaknesses.</li>
                                                <li><strong>Automated Grading:</strong> AI can assess essays and other work, giving teachers more time to focus on teaching.</li>
                                                <li><strong>Educational Content:</strong> AI helps create interactive learning materials that engage students in new ways.</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>Entertainment</strong>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>Content Recommendation:</strong> Streaming services use AI to suggest movies, music, and shows you might enjoy.</li>
                                                <li><strong>Game Characters:</strong> Video games use AI to create more realistic opponents that adapt to your playing style.</li>
                                                <li><strong>Creative Tools:</strong> AI assists in creating art, music, and videos, opening new possibilities for digital creators.</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-4">
                                        <h4><i class="fas fa-exclamation-triangle me-2"></i>Challenges and Ethical Considerations</h4>
                                        <div class="card">
                                            <div class="card-body">
                                                <ul class="mb-0">
                                                    <li><strong>Privacy Concerns:</strong> AI systems often require large amounts of personal data to function effectively.</li>
                                                    <li><strong>Bias and Fairness:</strong> AI can inherit biases from its training data, potentially leading to unfair outcomes.</li>
                                                    <li><strong>Job Displacement:</strong> Automation may change or eliminate certain types of jobs.</li>
                                                    <li><strong>Safety and Security:</strong> Powerful AI systems need safeguards to prevent misuse or unexpected behavior.</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% else %}
                            <div class="topic-card">
                                <h3>日常生活中的人工智能</h3>
                                <p class="lead">发现AI如何已经在帮助我们的日常生活！</p>
                                
                                <div class="applications-grid">
                                    <div class="application-card">
                                        <i class="fas fa-mobile-alt fa-2x mb-3"></i>
                                        <h5>智能手机</h5>
                                        <ul>
                                            <li>解锁手机的面部识别功能</li>
                                            <li>如Siri和小度等语音助手</li>
                                            <li>智能拍照和图像处理功能</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="application-card">
                                        <i class="fas fa-home fa-2x mb-3"></i>
                                        <h5>智能家居</h5>
                                        <ul>
                                            <li>可以理解你语音指令的智能音箱</li>
                                            <li>能根据你的习惯自动调节的温控器</li>
                                            <li>具备人脸识别功能的安防摄像头</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="application-card">
                                        <i class="fas fa-shopping-cart fa-2x mb-3"></i>
                                        <h5>购物体验</h5>
                                        <ul>
                                            <li>个性化产品推荐</li>
                                            <li>价格变动预测</li>
                                            <li>智能客服机器人</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="application-card">
                                        <i class="fas fa-car fa-2x mb-3"></i>
                                        <h5>交通出行</h5>
                                        <ul>
                                            <li>能找到最佳路线的导航应用</li>
                                            <li>自动驾驶技术</li>
                                            <li>实时交通状况预测</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <h4><i class="fas fa-microscope me-2"></i>人工智能如何改变各行各业</h4>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>医疗健康</strong>
                                        </div>
                                        <div class="card-body">
                                            <p>AI正在多方面革新医学领域：</p>
                                            <ul class="mb-0">
                                                <li><strong>医学影像：</strong>AI系统可以从X光片和核磁共振成像中检测癌症等疾病，有时比人类医生更准确。</li>
                                                <li><strong>药物研发：</strong>AI通过预测哪些分子可能有效，大大加快了发现新药的过程。</li>
                                                <li><strong>患者监测：</strong>智能设备跟踪健康指标，在问题变得严重之前提醒医生注意潜在问题。</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>教育</strong>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>个性化学习：</strong>AI辅导系统会根据每个学生的优势和弱点进行调整。</li>
                                                <li><strong>自动评分：</strong>AI可以评估论文和其他作业，让教师有更多时间专注于教学。</li>
                                                <li><strong>教育内容：</strong>AI帮助创建以新方式吸引学生的互动学习材料。</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="card mb-3">
                                        <div class="card-header bg-light">
                                            <strong>娱乐</strong>
                                        </div>
                                        <div class="card-body">
                                            <ul class="mb-0">
                                                <li><strong>内容推荐：</strong>流媒体服务使用AI推荐您可能喜欢的电影、音乐和节目。</li>
                                                <li><strong>游戏角色：</strong>视频游戏使用AI创建更逼真的对手，能够适应您的游戏风格。</li>
                                                <li><strong>创意工具：</strong>AI辅助创作艺术、音乐和视频，为数字创作者开辟新的可能性。</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="mt-4">
                                        <h4><i class="fas fa-exclamation-triangle me-2"></i>挑战与伦理考量</h4>
                                        <div class="card">
                                            <div class="card-body">
                                                <ul class="mb-0">
                                                    <li><strong>隐私问题：</strong>AI系统通常需要大量个人数据才能有效运行。</li>
                                                    <li><strong>偏见与公平性：</strong>AI可能从训练数据中继承偏见，可能导致不公平的结果。</li>
                                                    <li><strong>就业替代：</strong>自动化可能会改变或消除某些类型的工作。</li>
                                                    <li><strong>安全与保障：</strong>强大的AI系统需要保障措施，防止滥用或意外行为。</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    </div>

                    <!-- AI Categories Content -->
                    <div id="content-categories" class="topic-content d-none">
                        {% if language == 'english' %}
                            <div class="topic-card">
                                <h3>AI Categories: Different Types of Artificial Intelligence</h3>
                                <p class="lead">Discover the various specialized fields within AI and how they're changing our world!</p>
                                
                                <div class="alert alert-info p-4 mb-4">
                                    <h4><i class="fas fa-info-circle me-2"></i>Why We Categorize AI</h4>
                                    <p>Just like human intelligence has different forms (linguistic, logical, spatial, etc.), AI has developed specialized systems focused on specific tasks. These categories help researchers focus on particular challenges, and many real-world AI applications combine multiple categories to create powerful tools.</p>
                                </div>
                                
                                <!-- Computer Vision -->
                                <div class="category-section mb-5">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="category-icon me-3">
                                            <i class="fas fa-eye fa-2x text-primary"></i>
                                        </div>
                                        <h4 class="mb-0">Computer Vision</h4>
                                    </div>
                                    
                                    <p>Computer Vision is the field of AI that enables machines to "see" and interpret the visual world, processing and analyzing images and videos like humans do.</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>Key Technologies</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>Image Classification:</strong> Identifying what objects are in an image</li>
                                                        <li><strong>Object Detection:</strong> Finding and identifying multiple objects in images</li>
                                                        <li><strong>Facial Recognition:</strong> Identifying or verifying people from images</li>
                                                        <li><strong>Scene Understanding:</strong> Comprehending the entire context of an image</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>Real-World Applications</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>Medical Imaging:</strong> Detecting diseases from X-rays and scans</li>
                                                        <li><strong>Autonomous Vehicles:</strong> Helping cars "see" roads and obstacles</li>
                                                        <li><strong>Retail:</strong> Cashierless stores using computer vision to track items</li>
                                                        <li><strong>Agriculture:</strong> Monitoring crop health and optimizing harvests</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Natural Language Processing -->
                                <div class="category-section mb-5">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="category-icon me-3">
                                            <i class="fas fa-comment-alt fa-2x text-primary"></i>
                                        </div>
                                        <h4 class="mb-0">Natural Language Processing (NLP)</h4>
                                    </div>
                                    
                                    <p>NLP focuses on the interaction between computers and human language, enabling machines to read, understand, and generate human language in a valuable way.</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>Key Technologies</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>Sentiment Analysis:</strong> Determining the emotional tone behind text</li>
                                                        <li><strong>Machine Translation:</strong> Converting text from one language to another</li>
                                                        <li><strong>Text Summarization:</strong> Creating concise summaries of longer texts</li>
                                                        <li><strong>Question Answering:</strong> Understanding and responding to human questions</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>Real-World Applications</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>Virtual Assistants:</strong> Siri, Alexa, and Google Assistant</li>
                                                        <li><strong>Customer Service:</strong> AI chatbots handling customer inquiries</li>
                                                        <li><strong>Content Creation:</strong> AI writing assistants and tools</li>
                                                        <li><strong>Social Media Monitoring:</strong> Tracking brand mentions and sentiment</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Robotics -->
                                <div class="category-section mb-5">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="category-icon me-3">
                                            <i class="fas fa-robot fa-2x text-primary"></i>
                                        </div>
                                        <h4 class="mb-0">AI in Robotics</h4>
                                    </div>
                                    
                                    <p>Robotics AI combines artificial intelligence with mechanical engineering to create machines that can perform physical tasks in the real world.</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>Key Technologies</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>Motion Planning:</strong> Calculating efficient paths for robots to move</li>
                                                        <li><strong>Manipulation:</strong> Precise control of robotic arms and grippers</li>
                                                        <li><strong>SLAM:</strong> Simultaneous Localization and Mapping for navigation</li>
                                                        <li><strong>Human-Robot Interaction:</strong> Enabling safe work alongside humans</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>Real-World Applications</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>Manufacturing:</strong> Assembly line robots that can adapt to changes</li>
                                                        <li><strong>Healthcare:</strong> Surgical robots assisting doctors with precision</li>
                                                        <li><strong>Warehousing:</strong> Automated systems sorting and moving inventory</li>
                                                        <li><strong>Exploration:</strong> Robots investigating dangerous or remote environments</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- AI in Decision Making -->
                                <div class="category-section">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="category-icon me-3">
                                            <i class="fas fa-chart-line fa-2x text-primary"></i>
                                        </div>
                                        <h4 class="mb-0">Decision Systems & Predictive Analytics</h4>
                                    </div>
                                    
                                    <p>These AI systems analyze large amounts of data to identify patterns, make predictions, and support decision-making processes.</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>Key Technologies</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>Recommender Systems:</strong> Suggesting products or content based on preferences</li>
                                                        <li><strong>Forecasting:</strong> Predicting future trends based on historical data</li>
                                                        <li><strong>Anomaly Detection:</strong> Identifying unusual patterns that could indicate problems</li>
                                                        <li><strong>Optimization:</strong> Finding the best solution among many possibilities</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>Real-World Applications</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>Finance:</strong> Detecting fraudulent transactions and credit scoring</li>
                                                        <li><strong>Retail:</strong> Inventory management and demand forecasting</li>
                                                        <li><strong>Energy:</strong> Optimizing power grid operations and usage</li>
                                                        <li><strong>Healthcare:</strong> Predicting disease outbreaks and resource allocation</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% else %}
                            <div class="topic-card">
                                <h3>人工智能分类：不同类型的人工智能</h3>
                                <p class="lead">探索人工智能领域内的各种专业方向，了解它们如何改变我们的世界！</p>
                                
                                <div class="alert alert-info p-4 mb-4">
                                    <h4><i class="fas fa-info-circle me-2"></i>为什么我们对AI进行分类</h4>
                                    <p>就像人类智能有不同形式（语言、逻辑、空间等），AI也发展出了专注于特定任务的专业系统。这些分类帮助研究人员聚焦于特定挑战，而许多现实世界的AI应用会结合多个类别来创建强大的工具。</p>
                                </div>
                                
                                <!-- Computer Vision -->
                                <div class="category-section mb-5">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="category-icon me-3">
                                            <i class="fas fa-eye fa-2x text-primary"></i>
                                        </div>
                                        <h4 class="mb-0">计算机视觉</h4>
                                    </div>
                                    
                                    <p>计算机视觉是使机器能够"看见"并解释视觉世界的AI领域，像人类一样处理和分析图像和视频。</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>核心技术</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>图像分类：</strong>识别图像中的物体</li>
                                                        <li><strong>物体检测：</strong>在图像中查找和识别多个物体</li>
                                                        <li><strong>人脸识别：</strong>从图像中识别或验证人物身份</li>
                                                        <li><strong>场景理解：</strong>理解图像的整体上下文</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>现实应用</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>医学成像：</strong>从X光和扫描中检测疾病</li>
                                                        <li><strong>自动驾驶：</strong>帮助车辆"看见"道路和障碍物</li>
                                                        <li><strong>零售：</strong>使用计算机视觉跟踪商品的无人收银店</li>
                                                        <li><strong>农业：</strong>监控作物健康并优化收成</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Natural Language Processing -->
                                <div class="category-section mb-5">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="category-icon me-3">
                                            <i class="fas fa-comment-alt fa-2x text-primary"></i>
                                        </div>
                                        <h4 class="mb-0">自然语言处理 (NLP)</h4>
                                    </div>
                                    
                                    <p>NLP专注于计算机与人类语言之间的交互，使机器能够以有价值的方式阅读、理解和生成人类语言。</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>核心技术</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>情感分析：</strong>确定文本背后的情感基调</li>
                                                        <li><strong>机器翻译：</strong>将文本从一种语言转换为另一种语言</li>
                                                        <li><strong>文本摘要：</strong>为较长文本创建简明摘要</li>
                                                        <li><strong>问答系统：</strong>理解并回答人类问题</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>现实应用</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>虚拟助手：</strong>如Siri、小度和小爱同学</li>
                                                        <li><strong>客户服务：</strong>处理客户查询的AI聊天机器人</li>
                                                        <li><strong>内容创作：</strong>AI写作助手和工具</li>
                                                        <li><strong>社交媒体监控：</strong>跟踪品牌提及和情感</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Robotics -->
                                <div class="category-section mb-5">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="category-icon me-3">
                                            <i class="fas fa-robot fa-2x text-primary"></i>
                                        </div>
                                        <h4 class="mb-0">机器人技术中的AI</h4>
                                    </div>
                                    
                                    <p>机器人AI将人工智能与机械工程相结合，创造能够在现实世界中执行物理任务的机器。</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>核心技术</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>运动规划：</strong>计算机器人移动的最佳路径</li>
                                                        <li><strong>物体操作：</strong>精确控制机器人手臂和抓取装置</li>
                                                        <li><strong>SLAM：</strong>同步定位与地图构建用于导航</li>
                                                        <li><strong>人机交互：</strong>使机器人能够安全地与人类一起工作</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>现实应用</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>制造业：</strong>能够适应变化的装配线机器人</li>
                                                        <li><strong>医疗：</strong>协助医生进行精密手术的机器人</li>
                                                        <li><strong>仓储：</strong>自动分拣和移动库存的系统</li>
                                                        <li><strong>探索：</strong>调查危险或偏远环境的机器人</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- AI in Decision Making -->
                                <div class="category-section">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="category-icon me-3">
                                            <i class="fas fa-chart-line fa-2x text-primary"></i>
                                        </div>
                                        <h4 class="mb-0">决策系统与预测分析</h4>
                                    </div>
                                    
                                    <p>这些AI系统分析大量数据以识别模式、进行预测并支持决策过程。</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>核心技术</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>推荐系统：</strong>根据偏好推荐产品或内容</li>
                                                        <li><strong>预测分析：</strong>基于历史数据预测未来趋势</li>
                                                        <li><strong>异常检测：</strong>识别可能表明问题的异常模式</li>
                                                        <li><strong>优化：</strong>在众多可能性中找到最佳解决方案</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card h-100 mb-3">
                                                <div class="card-header bg-light">
                                                    <strong>现实应用</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>金融：</strong>检测欺诈交易和信用评分</li>
                                                        <li><strong>零售：</strong>库存管理和需求预测</li>
                                                        <li><strong>能源：</strong>优化电网运行和使用</li>
                                                        <li><strong>医疗：</strong>预测疾病爆发和资源分配</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    </div>
                    
                    <!-- AI Creativity Content -->
                    <div id="content-creativity" class="topic-content d-none">
                        {% if language == 'english' %}
                            <div class="topic-card">
                                <h3>AI & Creativity: The New Frontier</h3>
                                <p class="lead">Exploring how artificial intelligence is transforming art, music, writing, and design!</p>
                                
                                <div class="concept-image text-center mb-4">
                                    <img src="/static/images/ai-creativity.png" alt="AI Creativity Concept" class="img-fluid rounded" style="max-width: 500px;">
                                </div>
                                
                                <div class="alert alert-warning p-4 mb-4">
                                    <h4><i class="fas fa-lightbulb me-2"></i>The Creative AI Paradox</h4>
                                    <p>One of the most surprising developments in AI is its ability to create things that appear creative and original. This raises fascinating questions:</p>
                                    <ul>
                                        <li>Can a machine truly be creative, or is it just imitating human creativity?</li>
                                        <li>Who owns the art created by AI - the developers, the users, or perhaps even the AI itself?</li>
                                        <li>Will AI enhance human creativity or eventually replace creative professions?</li>
                                    </ul>
                                </div>
                                
                                <!-- AI in Visual Arts -->
                                <div class="mb-5">
                                    <h4><i class="fas fa-paint-brush me-2 text-primary"></i>AI in Visual Arts</h4>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-7">
                                            <p>AI systems can now generate stunning visual art from text descriptions, combine artistic styles, and even create entirely new images that never existed before.</p>
                                            
                                            <h5 class="mt-3">Major Breakthroughs:</h5>
                                            <ul>
                                                <li><strong>DALL-E, Midjourney & Stable Diffusion:</strong> Text-to-image models that create detailed images from descriptions</li>
                                                <li><strong>Style Transfer:</strong> Algorithms that can redraw an image in the style of famous artists</li>
                                                <li><strong>GAN Art:</strong> Using Generative Adversarial Networks to create original artworks</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="card">
                                                <div class="card-header bg-light">
                                                    <strong>Did You Know?</strong>
                                                </div>
                                                <div class="card-body">
                                                    <p class="mb-0">In 2018, an AI-generated portrait titled "Edmond de Belamy" sold at Christie's auction house for $432,500 - though it was estimated to be worth only $7,000-$10,000!</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- AI in Music -->
                                <div class="mb-5">
                                    <h4><i class="fas fa-music me-2 text-primary"></i>AI in Music</h4>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-7">
                                            <p>AI systems are composing music, creating accompaniments, and even generating songs in the style of specific artists or genres.</p>
                                            
                                            <h5 class="mt-3">How It Works:</h5>
                                            <p>Music generation AI analyzes patterns in thousands of songs - learning harmonies, rhythms, and structures. It can then generate new combinations that follow these musical "rules" while adding variations that sound fresh and original.</p>
                                            
                                            <h5 class="mt-3">Applications:</h5>
                                            <ul>
                                                <li>Creating royalty-free background music for videos and games</li>
                                                <li>Assisting composers with new melodic ideas</li>
                                                <li>Generating personalized music based on listener preferences</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="card">
                                                <div class="card-header bg-light">
                                                    <strong>Popular AI Music Tools</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li>AIVA - Creates emotional soundtrack music</li>
                                                        <li>Amper Music - AI composition for content creators</li>
                                                        <li>OpenAI's Jukebox - Generates music with vocals in various styles</li>
                                                        <li>Google's Magenta - Open source music and art generation</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- AI in Writing -->
                                <div class="mb-5">
                                    <h4><i class="fas fa-pen-fancy me-2 text-primary"></i>AI in Writing & Storytelling</h4>
                                    
                                    <p>Large language models can now write stories, poems, essays, and even code with remarkable coherence and creativity.</p>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <div class="card h-100">
                                                <div class="card-header bg-light">
                                                    <strong>Current Capabilities</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>Creative Writing:</strong> Generating stories, poetry, and scripts</li>
                                                        <li><strong>Content Creation:</strong> Writing articles, blog posts, and marketing copy</li>
                                                        <li><strong>Interactive Fiction:</strong> Creating branching narratives for games</li>
                                                        <li><strong>Translation & Adaptation:</strong> Converting content between languages while preserving meaning</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card h-100">
                                                <div class="card-header bg-light">
                                                    <strong>Limitations</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>Originality:</strong> AI writing is based on patterns in existing text</li>
                                                        <li><strong>Emotional Depth:</strong> AI doesn't truly understand human emotions</li>
                                                        <li><strong>Factual Accuracy:</strong> Can sometimes present incorrect information confidently</li>
                                                        <li><strong>Cultural Nuance:</strong> May miss subtle cultural contexts and implications</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- The Future of Creative AI -->
                                <div class="mb-4">
                                    <h4><i class="fas fa-rocket me-2 text-primary"></i>The Future of Creative AI</h4>
                                    
                                    <p>AI tools for creativity are evolving rapidly, with several key trends emerging:</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <div class="card h-100">
                                                <div class="card-header bg-primary text-white">
                                                    <strong>Human-AI Collaboration</strong>
                                                </div>
                                                <div class="card-body">
                                                    <p>Rather than replacing human creators, the most powerful applications combine human creativity with AI capabilities.</p>
                                                    <p class="mb-0">Examples include AI tools that help filmmakers with visual effects, architects with design optimization, and musicians with arrangement suggestions.</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <div class="card h-100">
                                                <div class="card-header bg-primary text-white">
                                                    <strong>Democratization of Creation</strong>
                                                </div>
                                                <div class="card-body">
                                                    <p>AI is making creative tools accessible to people without traditional training or technical skills.</p>
                                                    <p class="mb-0">This could lead to a new renaissance of creative expression, with more people able to bring their ideas to life regardless of their background or formal education.</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% else %}
                            <div class="topic-card">
                                <h3>人工智能与创造力：新的前沿</h3>
                                <p class="lead">探索人工智能如何改变艺术、音乐、写作和设计！</p>
                                
                                <div class="concept-image text-center mb-4">
                                    <img src="/static/images/ai-creativity.png" alt="AI创造力概念" class="img-fluid rounded" style="max-width: 500px;">
                                </div>
                                
                                <div class="alert alert-warning p-4 mb-4">
                                    <h4><i class="fas fa-lightbulb me-2"></i>创造性AI的悖论</h4>
                                    <p>AI最令人惊讶的发展之一是它能够创造出看似富有创意和原创性的作品。这引发了一些有趣的问题：</p>
                                    <ul>
                                        <li>机器是否真的具有创造力，还是仅仅在模仿人类的创造力？</li>
                                        <li>AI创作的艺术品归谁所有 - 开发者、用户，还是AI本身？</li>
                                        <li>AI会增强人类创造力，还是最终取代创意行业？</li>
                                    </ul>
                                </div>
                                
                                <!-- AI in Visual Arts -->
                                <div class="mb-5">
                                    <h4><i class="fas fa-paint-brush me-2 text-primary"></i>视觉艺术中的AI</h4>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-7">
                                            <p>AI系统现在可以根据文字描述生成令人惊叹的视觉艺术，结合不同的艺术风格，甚至创造出以前从未存在过的全新图像。</p>
                                            
                                            <h5 class="mt-3">重大突破：</h5>
                                            <ul>
                                                <li><strong>DALL-E、Midjourney和Stable Diffusion：</strong>文本到图像的模型，可以根据描述创建详细图像</li>
                                                <li><strong>风格迁移：</strong>能够以著名艺术家风格重绘图像的算法</li>
                                                <li><strong>GAN艺术：</strong>使用生成对抗网络创作原创艺术品</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="card">
                                                <div class="card-header bg-light">
                                                    <strong>你知道吗？</strong>
                                                </div>
                                                <div class="card-body">
                                                    <p class="mb-0">2018年，一幅名为"埃德蒙德·德·贝拉米"的AI生成肖像在佳士得拍卖行以432,500美元售出，尽管它的估价仅为7,000-10,000美元！</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- AI in Music -->
                                <div class="mb-5">
                                    <h4><i class="fas fa-music me-2 text-primary"></i>音乐中的AI</h4>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-7">
                                            <p>AI系统正在创作音乐、创建伴奏，甚至以特定艺术家或流派的风格生成歌曲。</p>
                                            
                                            <h5 class="mt-3">工作原理：</h5>
                                            <p>音乐生成AI分析数千首歌曲中的模式——学习和声、节奏和结构。然后，它可以生成遵循这些音乐"规则"的新组合，同时添加听起来新鲜原创的变化。</p>
                                            
                                            <h5 class="mt-3">应用：</h5>
                                            <ul>
                                                <li>为视频和游戏创作免版税背景音乐</li>
                                                <li>帮助作曲家产生新的旋律创意</li>
                                                <li>根据听众偏好生成个性化音乐</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="card">
                                                <div class="card-header bg-light">
                                                    <strong>流行AI音乐工具</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li>AIVA - 创作情感配乐</li>
                                                        <li>Amper Music - 为内容创作者提供AI作曲</li>
                                                        <li>OpenAI的Jukebox - 以各种风格生成带有人声的音乐</li>
                                                        <li>谷歌的Magenta - 开源音乐和艺术生成</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- AI in Writing -->
                                <div class="mb-5">
                                    <h4><i class="fas fa-pen-fancy me-2 text-primary"></i>写作和讲故事中的AI</h4>
                                    
                                    <p>大型语言模型现在可以写出故事、诗歌、文章，甚至代码，具有令人惊讶的连贯性和创造力。</p>
                                    
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <div class="card h-100">
                                                <div class="card-header bg-light">
                                                    <strong>当前能力</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>创意写作：</strong>生成故事、诗歌和剧本</li>
                                                        <li><strong>内容创作：</strong>撰写文章、博客和营销文案</li>
                                                        <li><strong>互动小说：</strong>为游戏创建分支叙事</li>
                                                        <li><strong>翻译与改编：</strong>在保持含义的同时转换不同语言之间的内容</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card h-100">
                                                <div class="card-header bg-light">
                                                    <strong>局限性</strong>
                                                </div>
                                                <div class="card-body">
                                                    <ul class="mb-0">
                                                        <li><strong>原创性：</strong>AI写作基于现有文本中的模式</li>
                                                        <li><strong>情感深度：</strong>AI并不真正理解人类情感</li>
                                                        <li><strong>事实准确性：</strong>有时会自信地呈现不正确的信息</li>
                                                        <li><strong>文化细微差别：</strong>可能会错过微妙的文化背景和含义</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- The Future of Creative AI -->
                                <div class="mb-4">
                                    <h4><i class="fas fa-rocket me-2 text-primary"></i>创意AI的未来</h4>
                                    
                                    <p>创意AI工具正在快速发展，出现了几个关键趋势：</p>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <div class="card h-100">
                                                <div class="card-header bg-primary text-white">
                                                    <strong>人机协作</strong>
                                                </div>
                                                <div class="card-body">
                                                    <p>与其取代人类创作者，最强大的应用结合了人类创造力与AI能力。</p>
                                                    <p class="mb-0">例如帮助电影制作人处理视觉效果、帮助建筑师优化设计以及为音乐家提供编曲建议的AI工具。</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <div class="card h-100">
                                                <div class="card-header bg-primary text-white">
                                                    <strong>创作的民主化</strong>
                                                </div>
                                                <div class="card-body">
                                                    <p>AI正在使没有传统培训或技术技能的人们也能使用创意工具。</p>
                                                    <p class="mb-0">这可能会导致创意表达的新文艺复兴，让更多人能够将他们的想法变为现实，无论其背景或正规教育如何。</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Quiz Section -->
                <div id="quiz-section" class="mt-4 d-none">
                    <div class="quiz-card p-4 border rounded shadow-sm">
                        <h4 class="d-flex align-items-center mb-4">
                            <i class="fas fa-question-circle me-2 text-primary"></i>
                            <span id="quiz-title">
                                {% if language == 'english' %}Knowledge Check{% else %}知识检查{% endif %}
                            </span>
                        </h4>
                        <div id="quiz-questions">
                            <!-- Quiz questions will be dynamically loaded -->
                        </div>
                        <div class="mt-4 text-end">
                            <button id="retry-quiz" class="btn btn-outline-primary d-none">
                                <i class="fas fa-redo me-1"></i>
                                {% if language == 'english' %}Try Again{% else %}再试一次{% endif %}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Next Steps -->
        <div class="card">
            <div class="card-body">
                <h4>
                    <i class="fas fa-forward me-2"></i>
                    {% if language == 'english' %}Next Steps{% else %}下一步{% endif %}
                </h4>
                <div class="d-flex gap-3">
                    <a href="#" class="btn btn-outline-primary">
                        <i class="fas fa-book me-1"></i>
                        {% if language == 'english' %}Neural Networks{% else %}神经网络{% endif %}
                    </a>
                    <a href="#" class="btn btn-outline-primary">
                        <i class="fas fa-laptop-code me-1"></i>
                        {% if language == 'english' %}Practice Exercise{% else %}练习题{% endif %}
                    </a>
                    <a href="#" class="btn btn-outline-primary">
                        <i class="fas fa-project-diagram me-1"></i>
                        {% if language == 'english' %}Real-world Examples{% else %}实际应用{% endif %}
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.timeline {
    position: relative;
    padding: 20px 0;
}

.timeline-item {
    display: flex;
    margin-bottom: 30px;
}

.timeline-marker {
    flex: 0 0 100px;
    font-weight: bold;
    color: #0d6efd;
}

.timeline-content {
    flex: 1;
    padding-left: 20px;
    border-left: 2px solid #0d6efd;
}

.applications-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 30px;
}

.application-card {
    padding: 20px;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    text-align: center;
}

.application-card ul {
    text-align: left;
    padding-left: 20px;
}

.topic-content {
    display: none;
}

.topic-content.active {
    display: block;
}

.quiz-question {
    margin-bottom: 1.5rem;
}

.quiz-options {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.quiz-option {
    padding: 12px 15px;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
}

.quiz-option:hover {
    background-color: #f8f9fa;
    transform: translateY(-2px);
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}

.quiz-option .option-letter {
    font-weight: bold;
    margin-right: 10px;
    color: #6c757d;
    display: inline-block;
    width: 25px;
    height: 25px;
    line-height: 25px;
    text-align: center;
    border-radius: 50%;
    background-color: #e9ecef;
}

.quiz-option.correct {
    background-color: #d4edda;
    border-color: #c3e6cb;
    color: #155724;
    pointer-events: none;
}

.quiz-option.incorrect {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
    pointer-events: none;
}

.quiz-option.correct .option-letter {
    background-color: #28a745;
    color: white;
}

.quiz-option.incorrect .option-letter {
    background-color: #dc3545;
    color: white;
}
</style>

{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Topic switching
    const topicLinks = document.querySelectorAll('.list-group-item-action');
    const topicContents = document.querySelectorAll('.topic-content');
    const topicTitle = document.getElementById('topic-title');
    
    topicLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Remove active class from all links and contents
            topicLinks.forEach(l => l.classList.remove('active'));
            topicContents.forEach(c => c.classList.add('d-none'));
            
            // Add active class to clicked link
            this.classList.add('active');
            
            // Show corresponding content
            const topicId = this.id;
            const content = document.getElementById('content-' + topicId.split('-')[1]);
            content.classList.remove('d-none');
            
            // Update topic title
            topicTitle.textContent = this.querySelector('div > div').textContent.trim();
            
            // Update quiz if it's visible
            if (!quizSection.classList.contains('d-none')) {
                loadQuizQuestions();
                updateQuizTitle();
                retryQuizBtn.classList.add('d-none');
            }
        });
    });
    
    // Toggle explanation level button
    const toggleButton = document.getElementById('toggle-explanation-level');
    toggleButton.addEventListener('click', function() {
        const currentLevel = '{{ level }}';
        const newLevel = currentLevel === 'simple' ? 'normal' : 'simple';
        window.location.href = "{{ url_for('set_level', level='') }}" + newLevel;
    });
    
    // Quiz functionality
    const startQuizBtn = document.getElementById('start-quiz');
    const quizSection = document.getElementById('quiz-section');
    const quizQuestions = document.getElementById('quiz-questions');
    const quizTitle = document.getElementById('quiz-title');
    const retryQuizBtn = document.getElementById('retry-quiz');
    
    startQuizBtn.addEventListener('click', function() {
        quizSection.classList.toggle('d-none');
        if (!quizSection.classList.contains('d-none')) {
            loadQuizQuestions();
            updateQuizTitle();
        }
    });
    
    retryQuizBtn.addEventListener('click', function() {
        loadQuizQuestions();
        retryQuizBtn.classList.add('d-none');
    });
    
    function updateQuizTitle() {
        const activeTopic = document.querySelector('.list-group-item-action.active').id;
        const topicType = activeTopic.split('-')[1]; // intro, history, or applications
        
        const titleMap = {
            'intro': '{% if language == "english" %}What is AI - Quiz{% else %}什么是人工智能 - 测验{% endif %}',
            'history': '{% if language == "english" %}AI History - Quiz{% else %}人工智能历史 - 测验{% endif %}',
            'applications': '{% if language == "english" %}AI in Daily Life - Quiz{% else %}日常生活中的人工智能 - 测验{% endif %}'
        };
        
        quizTitle.textContent = titleMap[topicType] || '{% if language == "english" %}Knowledge Check{% else %}知识检查{% endif %}';
    }
    
    function loadQuizQuestions() {
        // Get current topic ID
        const activeTopic = document.querySelector('.list-group-item-action.active').id;
        const topicType = activeTopic.split('-')[1]; // intro, history, or applications
        
        // Define questions for each topic (5 questions per topic with increasing difficulty)
        const questionSets = {
            'intro': [
                {
                    question: '{{ language == "english" and "What is AI?" or "什么是人工智能？" }}',
                options: [
                        '{{ language == "english" and "Technology that helps computers think and learn" or "帮助计算机思考和学习的技术" }}',
                        '{{ language == "english" and "A robot with human-like appearance" or "一个外表像人的机器人" }}',
                        '{{ language == "english" and "Software for designing graphics" or "用于设计图形的软件" }}'
                    ],
                    correct: 0,
                    difficulty: 1
                },
                {
                    question: '{{ language == "english" and "What does AI actually do with data?" or "人工智能实际上对数据做什么？" }}',
                    options: [
                        '{{ language == "english" and "It thinks exactly like humans do" or "它完全像人类一样思考" }}',
                        '{{ language == "english" and "It finds patterns and makes predictions" or "它找到规律并进行预测" }}',
                        '{{ language == "english" and "It has feelings about the information" or "它对信息产生感情" }}'
                    ],
                    correct: 1,
                    difficulty: 2
                },
                {
                    question: '{{ language == "english" and "Which of these is NOT an example of AI?" or "以下哪项不是人工智能的例子？" }}',
                    options: [
                        '{{ language == "english" and "A chatbot that answers customer questions" or "回答客户问题的聊天机器人" }}',
                        '{{ language == "english" and "A program that suggests movies based on your history" or "根据您的历史记录推荐电影的程序" }}',
                        '{{ language == "english" and "A calculator that adds numbers" or "一个计算器，用于加数字" }}'
                    ],
                    correct: 2,
                    difficulty: 3
                },
                {
                    question: '{{ language == "english" and "What is the relationship between AI and machine learning?" or "人工智能和机器学习之间有什么关系？" }}',
                    options: [
                        '{{ language == "english" and "They are completely different technologies" or "它们是完全不同的技术" }}',
                        '{{ language == "english" and "Machine learning is a subset of AI" or "机器学习是人工智能的一个子集" }}',
                        '{{ language == "english" and "AI is a subset of machine learning" or "人工智能是机器学习的一个子集" }}'
                    ],
                    correct: 1,
                    difficulty: 4
                },
                {
                    question: '{{ language == "english" and "Why is AI NOT actually \"intelligent\" in the human sense?" or "为什么人工智能实际上不具备人类意义上的\"智能\"？" }}',
                    options: [
                        '{{ language == "english" and "It can't process as much information as humans" or "它处理信息的能力不如人类" }}',
                        '{{ language == "english" and "It needs too much electricity to operate" or "它需要消耗太多电力才能运行" }}',
                        '{{ language == "english" and "It doesn't have consciousness or understanding" or "它没有意识和真正的理解能力" }}'
                    ],
                    correct: 2,
                    difficulty: 5
                }
            ],
            'history': [
                {
                    question: '{{ language == "english" and "When did AI research begin?" or "人工智能研究何时开始？" }}',
                    options: [
                        '{{ language == "english" and "1950s" or "1950年代" }}',
                        '{{ language == "english" and "1980s" or "1980年代" }}',
                        '{{ language == "english" and "2000s" or "2000年代" }}'
                    ],
                    correct: 0,
                    difficulty: 1
                },
                {
                    question: '{{ language == "english" and "What was an early achievement of AI?" or "人工智能早期的重要成就是什么？" }}',
                    options: [
                        '{{ language == "english" and "Facial recognition" or "面部识别技术" }}',
                        '{{ language == "english" and "Playing checkers" or "能够下跳棋的程序" }}',
                        '{{ language == "english" and "Writing novels" or "编写小说" }}'
                    ],
                    correct: 1,
                    difficulty: 2
                },
                {
                    question: '{{ language == "english" and "What is the Turing Test?" or "什么是图灵测试？" }}',
                    options: [
                        '{{ language == "english" and "A test to measure computer processing speed" or "测量计算机处理速度的测试" }}',
                        '{{ language == "english" and "A test to see if a machine can imitate human intelligence" or "检验机器是否能模仿人类智能的测试" }}',
                        '{{ language == "english" and "A security test for computer programs" or "计算机程序的安全性测试" }}'
                    ],
                    correct: 1,
                    difficulty: 3
                },
                {
                    question: '{{ language == "english" and "Which event marked a major AI breakthrough in the 1990s?" or "1990年代哪一事件标志着人工智能的重大突破？" }}',
                    options: [
                        '{{ language == "english" and "Deep Blue beating chess champion Garry Kasparov" or "深蓝战胜国际象棋冠军卡斯帕罗夫" }}',
                        '{{ language == "english" and "The release of Windows 95" or "Windows 95的发布" }}',
                        '{{ language == "english" and "The invention of the World Wide Web" or "万维网的发明" }}'
                    ],
                    correct: 0,
                    difficulty: 4
                },
                {
                    question: '{{ language == "english" and "What caused the \"AI winter\" periods in AI development?" or "是什么导致了人工智能发展中的\"AI寒冬\"时期？" }}',
                    options: [
                        '{{ language == "english" and "Lack of funding due to overpromised capabilities" or "对AI能力的过度承诺导致资金投入减少" }}',
                        '{{ language == "english" and "Computer hardware wasn't powerful enough" or "计算机硬件性能不足" }}',
                        '{{ language == "english" and "Scientists lost interest in the field" or "科学家对该领域失去兴趣" }}'
                    ],
                    correct: 0,
                    difficulty: 5
                }
            ],
            'applications': [
                {
                    question: '{{ language == "english" and "Which of these uses AI?" or "下列哪项技术使用了人工智能？" }}',
                    options: [
                        '{{ language == "english" and "A digital alarm clock" or "普通数字闹钟" }}',
                        '{{ language == "english" and "A music streaming service that recommends songs" or "能够推荐歌曲的音乐流媒体服务" }}',
                        '{{ language == "english" and "A basic calculator" or "基础计算器" }}'
                    ],
                    correct: 1,
                    difficulty: 1
                },
                {
                    question: '{{ language == "english" and "How does AI help with navigation apps?" or "人工智能如何提升导航应用的体验？" }}',
                    options: [
                        '{{ language == "english" and "It draws the maps" or "它负责绘制地图" }}',
                        '{{ language == "english" and "It predicts traffic patterns and finds optimal routes" or "它预测交通流量并计算最佳路线" }}',
                        '{{ language == "english" and "It only gives directions" or "它只提供方向指引" }}'
                    ],
                    correct: 1,
                    difficulty: 2
                },
                {
                    question: '{{ language == "english" and "Which of these is NOT a common use of AI in smartphones?" or "以下哪项不是智能手机中人工智能的常见应用？" }}',
                    options: [
                        '{{ language == "english" and "Face recognition for unlocking" or "用于解锁的面部识别" }}',
                        '{{ language == "english" and "Voice assistants" or "语音助手" }}',
                        '{{ language == "english" and "Battery charging" or "电池充电" }}'
                    ],
                    correct: 2,
                    difficulty: 3
                },
                {
                    question: '{{ language == "english" and "How do smart home devices use AI?" or "智能家居设备如何运用人工智能？" }}',
                    options: [
                        '{{ language == "english" and "They learn user preferences and adjust settings automatically" or "它们会学习用户偏好并自动调整设置" }}',
                        '{{ language == "english" and "They just follow manual programming" or "它们只是按照人工编程的指令运行" }}',
                        '{{ language == "english" and "They don't use AI at all" or "它们完全不使用人工智能技术" }}'
                    ],
                    correct: 0,
                    difficulty: 4
                },
                {
                    question: '{{ language == "english" and "What ethical concern arises with AI in surveillance systems?" or "在监控系统中使用人工智能会引发什么伦理问题？" }}',
                    options: [
                        '{{ language == "english" and "The systems use too much electricity" or "系统耗电量过大" }}',
                        '{{ language == "english" and "Privacy and potential bias in recognition" or "隐私问题和识别过程中可能存在的偏见" }}',
                        '{{ language == "english" and "The cameras are too expensive" or "摄像头成本太高" }}'
                    ],
                    correct: 1,
                    difficulty: 5
                }
            ]
        };
        
        // Select the appropriate question set
        const questions = questionSets[topicType] || questionSets['intro'];
        
        // Track quiz state
        window.quizState = {
            totalQuestions: questions.length,
            correctAnswers: 0,
            questionsAnswered: 0,
            topicType: topicType
        };
        
        quizQuestions.innerHTML = `
            <div class="progress mb-4">
                <div id="quiz-progress-bar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
            </div>
        ` + questions.map((q, i) => `
            <div class="quiz-question mb-4">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <p class="fw-bold mb-0">${i + 1}. ${q.question}</p>
                    <span class="badge bg-${getDifficultyBadgeColor(q.difficulty)}">
                        ${'★'.repeat(q.difficulty)}${'☆'.repeat(5-q.difficulty)}
                    </span>
                </div>
                <div class="quiz-options">
                    ${q.options.map((opt, j) => `
                        <div class="quiz-option" data-correct="${j === q.correct}" data-question-index="${i}">
                            <span class="option-letter">${String.fromCharCode(65 + j)}.</span>
                            ${opt}
                        </div>
                    `).join('')}
                </div>
            </div>
        `).join('') + `
            <div id="quiz-results" class="alert d-none mt-4"></div>
        `;
        
        // Add click handlers for quiz options
        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', function() {
                const isCorrect = this.dataset.correct === 'true';
                const questionIndex = parseInt(this.dataset.questionIndex);
                this.classList.add(isCorrect ? 'correct' : 'incorrect');
                
                // Update quiz state
                window.quizState.questionsAnswered++;
                if (isCorrect) {
                    window.quizState.correctAnswers++;
                }
                
                // Update progress bar
                const progressPercent = (window.quizState.questionsAnswered / window.quizState.totalQuestions) * 100;
                const progressBar = document.getElementById('quiz-progress-bar');
                progressBar.style.width = `${progressPercent}%`;
                progressBar.innerText = `${Math.round(progressPercent)}%`;
                progressBar.setAttribute('aria-valuenow', progressPercent);
                
                // Disable other options in the same question
                const questionDiv = this.closest('.quiz-question');
                questionDiv.querySelectorAll('.quiz-option').forEach(opt => {
                    opt.style.pointerEvents = 'none';
                    if (opt.dataset.correct === 'true') {
                        opt.classList.add('correct');
                    }
                });
                
                // Check if quiz is complete
                if (window.quizState.questionsAnswered === window.quizState.totalQuestions) {
                    showQuizResults();
                }
            });
        });
    }
    
    function showQuizResults() {
        const score = (window.quizState.correctAnswers / window.quizState.totalQuestions) * 100;
        const resultsDiv = document.getElementById('quiz-results');
        const progressBar = document.getElementById('quiz-progress-bar');
        
        // Update progress bar color based on score
        if (score >= 80) {
            progressBar.classList.remove('bg-primary');
            progressBar.classList.add('bg-success');
        } else if (score >= 60) {
            progressBar.classList.remove('bg-primary');
            progressBar.classList.add('bg-warning');
        } else {
            progressBar.classList.remove('bg-primary');
            progressBar.classList.add('bg-danger');
        }
        
        // Show results message
        resultsDiv.classList.remove('d-none', 'alert-success', 'alert-warning', 'alert-danger');
        if (score >= 80) {
            resultsDiv.classList.add('alert-success');
            resultsDiv.innerHTML = `
                <h5><i class="fas fa-trophy me-2"></i>{% if language == "english" %}Excellent!{% else %}太棒了!{% endif %}</h5>
                <p>{% if language == "english" %}You scored ${score}% (${window.quizState.correctAnswers}/${window.quizState.totalQuestions}){% else %}您的得分是 ${score}%（${window.quizState.correctAnswers}/${window.quizState.totalQuestions}）{% endif %}</p>
                <p>{% if language == "english" %}You have a great understanding of this topic!{% else %}您对这个主题理解得非常好！{% endif %}</p>
            `;
        } else if (score >= 60) {
            resultsDiv.classList.add('alert-warning');
            resultsDiv.innerHTML = `
                <h5><i class="fas fa-check-circle me-2"></i>{% if language == "english" %}Good job!{% else %}不错!{% endif %}</h5>
                <p>{% if language == "english" %}You scored ${score}% (${window.quizState.correctAnswers}/${window.quizState.totalQuestions}){% else %}您的得分是 ${score}%（${window.quizState.correctAnswers}/${window.quizState.totalQuestions}）{% endif %}</p>
                <p>{% if language == "english" %}You've passed, but there's still room to improve.{% else %}您已经通过了，但还有进步的空间。{% endif %}</p>
            `;
        } else {
            resultsDiv.classList.add('alert-danger');
            resultsDiv.innerHTML = `
                <h5><i class="fas fa-exclamation-triangle me-2"></i>{% if language == "english" %}Try again!{% else %}再试一次!{% endif %}</h5>
                <p>{% if language == "english" %}You scored ${score}% (${window.quizState.correctAnswers}/${window.quizState.totalQuestions}){% else %}您的得分是 ${score}%（${window.quizState.correctAnswers}/${window.quizState.totalQuestions}）{% endif %}</p>
                <p>{% if language == "english" %}You need to score at least 60% to pass. Please review the material and try again.{% else %}您需要获得至少60%的分数才能通过。请重新复习内容后再尝试。{% endif %}</p>
            `;
        }
        
        // Update retry button visibility and behavior
        retryQuizBtn.classList.remove('d-none');
        
        // Update the progress percentage for this topic
        updateTopicProgress(window.quizState.topicType, score);
    }
    
    function updateTopicProgress(topicType, score) {
        // Only update if score is 60% or higher
        if (score >= 60) {
            const topicElement = document.getElementById(`topic-${topicType}`);
            const progressBar = topicElement.querySelector('.progress-bar');
            const percentBadge = topicElement.querySelector('.badge');
            
            // Set progress percentage (capped at score value)
            const currentProgress = parseInt(percentBadge.textContent);
            const newProgress = Math.max(currentProgress, Math.round(score));
            
            progressBar.style.width = `${newProgress}%`;
            percentBadge.textContent = `${newProgress}%`;
        }
    }
    
    function getDifficultyBadgeColor(difficulty) {
        switch(difficulty) {
            case 1: return 'success';
            case 2: return 'info';
            case 3: return 'primary';
            case 4: return 'warning';
            case 5: return 'danger';
            default: return 'primary';
        }
    }
});
</script>
{% endblock %} 